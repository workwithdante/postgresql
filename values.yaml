postgresql:
  global:
    security:
      allowInsecureImages: true
  
  image:
    registry: gitea.mabecenter.org
    repository: workwithdante/postgresql-mysqlfdw
    pullPolicy: Always
    tag: latest
  
  extraEnvVars:
    - name: POSTGRESQL_EXTRA_FLAGS
      value: cron.database_name=${POSTGRESQL_DATABASE:-${POSTGRES_DB}}
      
  architecture: "standalone"
  postgresqlSharedPreloadLibraries: "pgaudit, pgcron"
  auth:
    database: demo
    existingSecret: "postgresql-credentials"
    secretKeys:
        adminPasswordKey: "postgresql-root-password"
        userPasswordKey: "postgresql-password"
        replicationPasswordKey: "postgresql-replication-password"
  
  tls:
    enabled: true
    autoGenerated: false            # usamos nuestro Secret
    certificatesSecret: tls-cert
    certFilename: tls.crt
    certKeyFilename: tls.key
  
  volumePermissions:
    enabled: true